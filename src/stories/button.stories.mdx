import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from '@storybook/addon-docs';
import isChromatic from 'chromatic';
import dedent from 'ts-dedent';
import { Button } from './Button';

<Meta
  title="MDX/Button"
  component={Button}
  parameters={{
    docs: {
      source: {
        code: dedent`
        <Button label="Button" primary=true />
        <Button label="Button" />
        <Button label="Large Button" size="large" />
        <Button label="Button" size="small" />`,
      },
    },
  }}
/>

<Description of={Button} />

export const Template = (args) => <Button {...args} />;

<Canvas>
  <Story
    name="primary"
    args={{
      primary: true,
      label: 'Button',
    }}
  >
    {Template.bind({})}
  </Story>
  {isChromatic() ? (
    <Story
      name="secondary"
      args={{
        label: 'Button',
      }}
    >
      {Template.bind({})}
    </Story>
  ) : (
    <Button label="Button" />
  )}
  {isChromatic() ? (
    <Story
      name="large"
      args={{
        size: 'large',
        label: 'Large Button',
      }}
    >
      {Template.bind({})}
    </Story>
  ) : (
    <Button label="Large Button" size="large" />
  )}
  {isChromatic() ? (
    <Story
      name="small"
      args={{
        size: 'small',
        label: 'Button',
      }}
    >
      {Template.bind({})}
    </Story>
  ) : (
    <Button label="Button" size="small" />
  )}
</Canvas>

## API

<ArgsTable of={Button} />
